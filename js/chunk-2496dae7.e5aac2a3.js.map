{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.object.values.js","webpack:///./node_modules/core-js/internals/object-to-array.js","webpack:///./src/pages/bugs/index.vue?518e","webpack:///./node_modules/core-js/modules/es.object.keys.js","webpack:///./node_modules/core-js/modules/es.array.map.js","webpack:///./src/pages/bugs/index.vue?b042","webpack:///src/pages/bugs/index.vue","webpack:///./src/pages/bugs/index.vue?f7be","webpack:///./src/pages/bugs/index.vue"],"names":["$","$values","values","target","stat","O","DESCRIPTORS","objectKeys","toIndexedObject","propertyIsEnumerable","f","createMethod","TO_ENTRIES","it","key","keys","length","i","result","call","push","module","exports","entries","toObject","nativeKeys","fails","FAILS_ON_PRIMITIVES","forced","$map","map","arrayMethodHasSpeciesSupport","arrayMethodUsesToLength","HAS_SPECIES_SUPPORT","USES_TO_LENGTH","proto","callbackfn","this","arguments","undefined","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","on","monthChange","model","value","callback","$$v","monthDate","expression","directives","name","rawName","staticRenderFns","data","dayjs","Date","showCharts","components","computed","methods","queryDate","pieBuild","x","bugCount","busLineName","bugRate","toFixed","console","log","seriesArr","myChart","setOption","title","text","legend","nameArr","tooltip","series","barBuild","xAxis","yAxis","type","min","position","axisLabel","formatter","singleBuild","allMap","forEach","namesArr","concat","Object","e","valueArr","interval","rotate","mounted","component"],"mappings":"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","file":"js/chunk-2496dae7.e5aac2a3.js","sourcesContent":["var $ = require('../internals/export');\nvar $values = require('../internals/object-to-array').values;\n\n// `Object.values` method\n// https://tc39.github.io/ecma262/#sec-object.values\n$({ target: 'Object', stat: true }, {\n  values: function values(O) {\n    return $values(O);\n  }\n});\n","var DESCRIPTORS = require('../internals/descriptors');\nvar objectKeys = require('../internals/object-keys');\nvar toIndexedObject = require('../internals/to-indexed-object');\nvar propertyIsEnumerable = require('../internals/object-property-is-enumerable').f;\n\n// `Object.{ entries, values }` methods implementation\nvar createMethod = function (TO_ENTRIES) {\n  return function (it) {\n    var O = toIndexedObject(it);\n    var keys = objectKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || propertyIsEnumerable.call(O, key)) {\n        result.push(TO_ENTRIES ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n\nmodule.exports = {\n  // `Object.entries` method\n  // https://tc39.github.io/ecma262/#sec-object.entries\n  entries: createMethod(true),\n  // `Object.values` method\n  // https://tc39.github.io/ecma262/#sec-object.values\n  values: createMethod(false)\n};\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=70b13178&lang=sass&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=70b13178&lang=sass&scoped=true&\"","var $ = require('../internals/export');\nvar toObject = require('../internals/to-object');\nvar nativeKeys = require('../internals/object-keys');\nvar fails = require('../internals/fails');\n\nvar FAILS_ON_PRIMITIVES = fails(function () { nativeKeys(1); });\n\n// `Object.keys` method\n// https://tc39.github.io/ecma262/#sec-object.keys\n$({ target: 'Object', stat: true, forced: FAILS_ON_PRIMITIVES }, {\n  keys: function keys(it) {\n    return nativeKeys(toObject(it));\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n// FF49- issue\nvar USES_TO_LENGTH = arrayMethodUsesToLength('map');\n\n// `Array.prototype.map` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT || !USES_TO_LENGTH }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page\"},[_c('el-date-picker',{staticStyle:{\"position\":\"absolute\",\"left\":\"15px\",\"top\":\"15px\"},attrs:{\"size\":\"small\",\"format\":\"yyyy 年 MM 月\",\"type\":\"month\",\"placeholder\":\"选择月\"},on:{\"change\":_vm.monthChange},model:{value:(_vm.monthDate),callback:function ($$v) {_vm.monthDate=$$v},expression:\"monthDate\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCharts),expression:\"showCharts\"}],staticClass:\"charts mid\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCharts),expression:\"showCharts\"}],staticClass:\"charts mid\"}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showCharts),expression:\"showCharts\"}],staticClass:\"charts\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"page\">\r\n    <el-date-picker\r\n      style=\"position: absolute; left: 15px; top: 15px\"\r\n      size=\"small\"\r\n      v-model=\"monthDate\"\r\n      format=\"yyyy 年 MM 月\"\r\n      type=\"month\"\r\n      @change=\"monthChange\"\r\n      placeholder=\"选择月\"\r\n    >\r\n    </el-date-picker>\r\n    <div v-show=\"showCharts\" class=\"charts mid\"></div>\r\n    <div v-show=\"showCharts\" class=\"charts mid\"></div>\r\n    <div v-show=\"showCharts\" class=\"charts\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport * as echarts from \"echarts\";\r\nconst dayjs = require(\"dayjs\");\r\nexport default {\r\n  data() {\r\n    return {\r\n      dayjs: dayjs,\r\n      monthDate: new Date(),\r\n      showCharts: true,\r\n    };\r\n  },\r\n  components: {},\r\n  computed: {},\r\n  methods: {\r\n    monthChange() {\r\n      this.queryDate();\r\n    },\r\n    queryDate() {\r\n      axios\r\n        .post(\"/api/bugs/bugsRort\", {\r\n          startTime: this.dayjs(\r\n            new Date(this.monthDate.setMonth(this.monthDate.getMonth(), 1))\r\n          ).format(\"YYYY-MM-DD 00:00:00\"),\r\n          endTime: this.dayjs(\r\n            new Date(this.monthDate.setMonth(this.monthDate.getMonth() + 1, 0))\r\n          ).format(\"YYYY-MM-DD 23:59:59\"),\r\n        })\r\n        .then((res) => {\r\n          this.showCharts = true;\r\n          console.log(res);\r\n          this.pieBuild(res.data.data);\r\n          this.barBuild(res.data.data);\r\n          this.singleBuild(res.data.data);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n          this.showCharts = false;\r\n          this.$message.error(\"数据请求失败！\");\r\n        });\r\n    },\r\n    pieBuild(obj = []) {\r\n      const nameArr = Array.from(obj, (x) => x.busLineName);\r\n      const seriesArr = obj.map((x) => {\r\n        return {\r\n          value: x.bugCount,\r\n          name: x.busLineName + \" \" + (x.bugRate * 100).toFixed(2) + \"%\",\r\n        };\r\n      });\r\n      console.log(seriesArr);\r\n      const myChart = echarts.init(\r\n        document.getElementsByClassName(\"charts\")[1]\r\n      );\r\n      myChart.setOption({\r\n        title: {\r\n          text: \"bug数量统计\",\r\n        },\r\n        legend: {\r\n          data: nameArr,\r\n        },\r\n        tooltip: {\r\n          // show:true,\r\n          // trigger: \"axis\",\r\n        },\r\n        series: [\r\n          {\r\n            type: \"pie\",\r\n            data: seriesArr,\r\n            radius: \"50%\",\r\n          },\r\n        ],\r\n      });\r\n    },\r\n    barBuild(obj) {\r\n      const nameArr = Array.from(obj, (x) => x.busLineName);\r\n      const seriesArr = [\r\n        {\r\n          name: \"bug数\",\r\n          color: \"blue\",\r\n          type: \"bar\",\r\n          data: Array.from(obj, (e) => e.bugCount),\r\n          stack: \"x\",\r\n          label: {\r\n            show: true,\r\n            position: \"top\",\r\n            valueAnimation: true,\r\n          },\r\n        },\r\n      ];\r\n      const myChart = echarts.init(\r\n        document.getElementsByClassName(\"charts\")[0]\r\n      );\r\n      myChart.setOption({\r\n        title: {\r\n          text: \"bug数量统计\",\r\n        },\r\n        legend: {\r\n          data: [\"bug数\"],\r\n        },\r\n        tooltip: {\r\n          // show:true,\r\n          // trigger: \"axis\",\r\n        },\r\n        xAxis: {\r\n          data: nameArr,\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          name: \"通过率\",\r\n          min: 0,\r\n          position: \"left\",\r\n          axisLabel: {\r\n            formatter: \"{value}\",\r\n          },\r\n        },\r\n        series: seriesArr,\r\n      });\r\n    },\r\n    singleBuild(obj) {\r\n      const allMap = Array.from(obj, (x) => x.map);\r\n      console.log(allMap);\r\n      let namesArr = [];\r\n      let valueArr = [];\r\n      allMap.forEach((e) => {\r\n        namesArr = [].concat(Object.keys(e), namesArr).map((x) => {\r\n          if (x == \"\") {\r\n            return \"空\";\r\n          } else {\r\n            return x;\r\n          }\r\n        });\r\n        valueArr = [].concat(Object.values(e), valueArr);\r\n      });\r\n      const seriesArr = [\r\n        {\r\n          name: \"bug数\",\r\n          color: \"red\",\r\n          type: \"bar\",\r\n          data: valueArr,\r\n          stack: \"x\",\r\n          label: {\r\n            show: true,\r\n            position: \"top\",\r\n            valueAnimation: true,\r\n          },\r\n        },\r\n      ];\r\n      const myChart = echarts.init(\r\n        document.getElementsByClassName(\"charts\")[2]\r\n      );\r\n      myChart.setOption({\r\n        title: {\r\n          text: \"缺陷处理人/状态分布图\",\r\n        },\r\n        legend: {\r\n          data: [\"bug数\"],\r\n        },\r\n        tooltip: {\r\n          // show:true,\r\n          // trigger: \"axis\",\r\n        },\r\n        xAxis: {\r\n          data: namesArr,\r\n          axisLabel: {\r\n            interval: 0,\r\n            rotate: 70,\r\n          },\r\n        },\r\n        yAxis: {\r\n          type: \"value\",\r\n          name: \"bug数量\",\r\n          min: 0,\r\n          position: \"left\",\r\n          axisLabel: {\r\n            formatter: \"{value}\",\r\n          },\r\n        },\r\n        series: seriesArr,\r\n      });\r\n    },\r\n  },\r\n  mounted() {\r\n    this.queryDate();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"sass\" scoped>\r\n// p:nth-child(2)\r\n//     background: #eeeeee\r\n.charts\r\n    display: inline-block\r\n    width: 90vw\r\n    height: 300px\r\n.mid\r\n    display: inline-block\r\n    width: 45vw\r\n    height: 300px\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=70b13178&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=70b13178&lang=sass&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70b13178\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}